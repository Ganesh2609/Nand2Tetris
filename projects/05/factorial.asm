@256
D=A
@SP
M=D
@300
D=A
@LCL
M=D
@400
D=A
@ARG
M=D
@3000
D=A
@THIS
M=D
@3010
D=A
@THAT
M=D
@4
D=A
@SP
A=M
M=D
@SP
M=M+1
@CALL_0
D=A
@SP
A=M
M=D
@LCL
D=M
@SP
AM=M+1
M=D
@ARG
D=M
@SP
AM=M+1
M=D
@THIS
D=M
@SP
AM=M+1
M=D
@THAT
D=M
@SP
AM=M+1
M=D
@SP
MD=M+1
@LCL
M=D
@0
D=A
@TEMP
M=D
@5
D=A
@TEMP
M=M+D
@1
D=A
@TEMP
MD=M+D
@SP
D=M-D
@ARG
M=D
@factorial.fact
0;JMP
(CALL_0)
(end)
@end
0;JMP
(factorial.fact)
@0
D=A
@ARG
A=M+D
D=M
@SP
A=M
M=D
@SP
M=M+1
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
AM=M-1
D=M
M=0
@SP
A=M-1
D=D-M
@LABEL_0
D;JEQ
@SP
A=M-1
M=0
@LAB_0
0;JMP
(LABEL_0)
@SP
A=M-1
M=-1
(LAB_0)
@SP
AM=M-1
D=M
@true
D+1;JEQ
@0
D=A
@ARG
A=M+D
D=M
@SP
A=M
M=D
@SP
M=M+1
@0
D=A
@ARG
A=M+D
D=M
@SP
A=M
M=D
@SP
M=M+1
@1
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
AM=M-1
D=M
M=0
@SP
A=M-1
M=M-D
@CALL_1
D=A
@SP
A=M
M=D
@LCL
D=M
@SP
AM=M+1
M=D
@ARG
D=M
@SP
AM=M+1
M=D
@THIS
D=M
@SP
AM=M+1
M=D
@THAT
D=M
@SP
AM=M+1
M=D
@SP
MD=M+1
@LCL
M=D
@0
D=A
@TEMP
M=D
@5
D=A
@TEMP
M=M+D
@1
D=A
@TEMP
MD=M+D
@SP
D=M-D
@ARG
M=D
@factorial.fact
0;JMP
(CALL_1)
@CALL_2
D=A
@SP
A=M
M=D
@LCL
D=M
@SP
AM=M+1
M=D
@ARG
D=M
@SP
AM=M+1
M=D
@THIS
D=M
@SP
AM=M+1
M=D
@THAT
D=M
@SP
AM=M+1
M=D
@SP
MD=M+1
@LCL
M=D
@SP
A=M
M=0
@SP
M=M+1
@1
D=A
@TEMP
M=D
@5
D=A
@TEMP
M=M+D
@2
D=A
@TEMP
MD=M+D
@SP
D=M-D
@ARG
M=D
@factorial.mult
0;JMP
(CALL_2)
@SP
A=M-1
D=M
@ARG
A=M
M=D
@ARG
D=M+1
@TEMP1
M=D
@LCL
D=M-1
@ADDR1
M=D
A=M
D=M
@THAT
M=D
@ADDR1
AM=M-1
D=M
@THIS
M=D
@ADDR1
AM=M-1
D=M
@ARG
M=D
@ADDR1
AM=M-1
D=M
@LCL
M=D
@ADDR1
AM=M-1
D=M
@STORE
M=D
(LPN_0)
@SP
AMD=M-1
M=0
@TEMP1
D=D-M
@IN_0
D;JEQ
@LPN_0
0;JMP
(IN_0)
@STORE
A=M
0;JMP
(true)
@1
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
A=M-1
D=M
@ARG
A=M
M=D
@ARG
D=M+1
@TEMP1
M=D
@LCL
D=M-1
@ADDR1
M=D
A=M
D=M
@THAT
M=D
@ADDR1
AM=M-1
D=M
@THIS
M=D
@ADDR1
AM=M-1
D=M
@ARG
M=D
@ADDR1
AM=M-1
D=M
@LCL
M=D
@ADDR1
AM=M-1
D=M
@STORE
M=D
(LPN_1)
@SP
AMD=M-1
M=0
@TEMP1
D=D-M
@IN_1
D;JEQ
@LPN_1
0;JMP
(IN_1)
@STORE
A=M
0;JMP
(factorial.mult)
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
@0
D=A
@LCL
D=M+D
@ADDR6
M=D
@SP
AM=M-1
D=M
M=0
@ADDR6
A=M
M=D
(loop)
@0
D=A
@ARG
A=M+D
D=M
@SP
A=M
M=D
@SP
M=M+1
@0
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
AM=M-1
D=M
M=0
@SP
A=M-1
D=D-M
@LABEL_1
D;JEQ
@SP
A=M-1
M=0
@LAB_1
0;JMP
(LABEL_1)
@SP
A=M-1
M=-1
(LAB_1)
@SP
AM=M-1
D=M
@over
D+1;JEQ
@0
D=A
@ARG
A=M+D
D=M
@SP
A=M
M=D
@SP
M=M+1
@1
D=A
@SP
A=M
M=D
@SP
M=M+1
@SP
AM=M-1
D=M
M=0
@SP
A=M-1
M=M-D
@0
D=A
@ARG
D=M+D
@ADDR5
M=D
@SP
AM=M-1
D=M
M=0
@ADDR5
A=M
M=D
@0
D=A
@LCL
A=M+D
D=M
@SP
A=M
M=D
@SP
M=M+1
@1
D=A
@ARG
A=M+D
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
AM=M-1
D=M
M=0
@SP
A=M-1
M=M+D
@0
D=A
@LCL
D=M+D
@ADDR6
M=D
@SP
AM=M-1
D=M
M=0
@ADDR6
A=M
M=D
@loop
0;JMP
(over)
@0
D=A
@LCL
A=M+D
D=M
@SP
A=M
M=D
@SP
M=M+1
@SP
A=M-1
D=M
@ARG
A=M
M=D
@ARG
D=M+1
@TEMP1
M=D
@LCL
D=M-1
@ADDR1
M=D
A=M
D=M
@THAT
M=D
@ADDR1
AM=M-1
D=M
@THIS
M=D
@ADDR1
AM=M-1
D=M
@ARG
M=D
@ADDR1
AM=M-1
D=M
@LCL
M=D
@ADDR1
AM=M-1
D=M
@STORE
M=D
(LPN_2)
@SP
AMD=M-1
M=0
@TEMP1
D=D-M
@IN_2
D;JEQ
@LPN_2
0;JMP
(IN_2)
@STORE
A=M
0;JMP
@END
0;JMP
(END)
@END
0;JMP